# 1. BCP/DRP
## (1) BCP/DRP 개요
### 1) 비즈니스 연속성 계획(BCP)의 개요
1. 재난 발생 시 비즈니스 연속성을 유지하려는 방법을 정의하는 문서로써 재해, 재난에도 정상적인 운영이 가능하도록 데이터 백업 및 단순 복구뿐만 아니라 고객 서비스 지속성 보장. 핵심 업무 기능을 지속하는 환경 조성을 목적으로 한다.
2. BCP(Business Continuity Planning) 개발을 위해서는 기업이 운영하고 있는 시스템의 파악과 함께 비즈니스 영향 평가(BLA)가 선행되어야 한다.

### 2) 재난 복구 계획
#### (가) 재난 복구 계획(DRP, Disaster Recovery Planning) 개요
1. 장기간에 걸친 재해나 재난으로 인해 피해 입은 시설의 접근거부와 같은 이벤트를 다룬다.
2. 비상사태 발생 후 대체 사이트에서의 목표 시스템, 응용 프로그램, 컴퓨터 설비의 운영 재개와 같은 IT 중심의 계획을 말한다.

#### (나) BCP와 DRP의 비교
1. BCP는 심각한 실패나 재해로 인해 사업활동이나 프로세스가 중단되는 것에 대응하기 위해 명확하고 상세히 기술된 계획을 개발하는 것에 초점을 둔다.
2. DRP는 심각한 실패나 재해의 영향으로 인해 핵심 정보시스템과 데이터가 중단되는 것에 대응하기 위해 명확하고 상세히 기술된 계획을 개발하는 것에 초점을 둔다.

## (2) 사업영향분석(BIA, Business Impact Analysis)
### 1) 비즈니스 영향 분석
#### (가) 비즈니스 영향 분석의 개요
1. 비즈니스에 업무 중단이 미치는 영향에 대한 정성적, 정량적, 기능적 분석을 실시한다.
2. BIA는 발생 가능한 모든 재해를 고려하고 잠재적인 손실을 추정, 재난을 분류하여 우선순위를 부여하고 실행 가능한 대안을 개발해야 한다.

#### (나) BIA의 주요 활동
1. 인터뷰나 문서로부터 데이터 수집
2. 프로세스 플로우 다이어그램 작성
3. 비즈니스 기능, 행위, 처리를 문서화 및 비즈니스 체계를 개발
4. 자원 요구사항 식별: 핵심 프로세스에 필요한 자원 식별
5. 최대 허용 중단 시간(MTD, Maximum Tolerable Downtime) 산정
6. 기능별로 분류 도표와 중요도 수준, 우선순위 결정

### 2) 위험분석
1. 위험관리는 데이터를 손상하거나 노출시킬 수 있는 요소를 데이터 가치와 대책 비용관점에서 식별 및 평가하여, 위험을 완화하거나 감소시키기 위한 비용효과적인 관리 프로세스이다.
2. 위험분석은 위험을 식별하고 위협의 영향을 계량화\/정량화하여 보안 예산 산정에 도움을 주는 과정이다.

### 3) 상호의존성 파악
1. 기업은 여러 형태의 장비, 인력, 업무, 부서, 통신 메커니즘 그리고 인터페이스로 구성되기 때문에 진정한 연속성은 이들의 상호관계를 이해하는 것이다.
2. 비즈니스 프로세스에 의존하는 모든 조직의 요소를 식별하고 비상운영을 위한 대안을 제공하기 위해 부서별 계획이 통합되어야 한다.

## (3) 복구전략
### 1) 개요
#### (가) 기본 개념
1. BIA(Business Impact Analysis)단계에서 식별된 위협에 대응하기 위해 구현되어야 하는 가장 효율적이고, 비용효과적인 복구 메커니즘 개발을 말한다.

### 2) 2차 사이트 종류별 특징
#### (가) 미러 사이트
1. 주 센터와 동일한 수준의 정보 기술 자원을 원격지에 구축하고, 메인센터와 재해복구센터 모두 액티브 상태로 실시간 동시 서비스를 하는 방식이다.
2. 재해 발생시 **복구까지의 소요시간(RTO)** 은 이론적으로 0이다.
3. 초기 투자 및 유지 보수에 높은 비용이 소요되며, 웹 애플리케이션 서비스 등 데이터의 업데이트의 빈도가 높지 않은 시스템에 적용 가능하다.

#### (나) 핫 사이트
1. 주 센터와 동일한 수준의 시스템을 재해복구센터에 대기상태로 두어 동기적 또는 비동기적 방식의 실시간 복제를 통하여 최신의 데이터 상태를 유지하고 있다가 재해 시 재해복구센터의 시스템을 액티브로 전환하여 복구하는 방식이다.
2. 데이터베이스, 응용프로그램 등 데이터의 갱신 빈도가 높은 시스템에 자주 사용되나, 미러 사이트처럼 초기투자 및 유지보수 비용이 많이 소비된다.

#### (다) 웜 사이트
1. 핫 사이트와 유사하나 재해복구 센터에 주 센터와 동일한 수준의 정보기술자원을 보유하는 대신 중요성이 높은 정보기술자원만 부분적으로 보유하는 방식이다.
2. 실시간 미러링을 수행하지 않으며 데이터의 백업 주기가 몇 시간에서 며칠 정도로 핫 사이트에 비해 다소 길다. 구축 및 유지비용이 저렴한 반면에 초기의 복구수준이 완전하지 않으며 완전한 복구까지는 다소의 시일이 소요된다.

#### (라) 콜드 사이트
1. 데이터만 원격지에 보관하고 서비스를 위한 정보 자원은 확보하지 않거나 장소 등 최소한으로만 확보하고 있다가 재해 시에 데이터를 근간으로 필요한 정보자원을 조달하여 복구하는 방식이다.
2. 주 센터의 데이터는 일 단위나 주 단위 주기로 원격지에 백업된다. 구축 및 유지비용이 가장 저렴하나 복구 소유시간이 매우 길고 신뢰성이 낮다.

|유형|설명|RT|장점|단점|
|:-:|:-|:-:|:-|:-|
|미러 사이트|* 주 센터와 동일한 수준의 정보기술 자원을 원격지에 구축하고, 운영-운영 상태로 실시간 동시 서비스를 제공|즉시|* 데이터 최신성 </br>* 높은 안전성 </br>* 신속한 업무재개|* 높은 초기투자비용 </br>* 높은 유지보수비용 </br>* 데이터 업데이트가 많은 경우 과부하 초래하여 부적합|
|핫 사이트|* 주 센터와 동일한 수준의 정보기술 자원을 원격지에 구축하여 대기상태로 유지하며 운영-대기 상태로 서비스 제공 </br>* 주 센터 재해 시 원격지시스템을 운영 상태로 전환하며 서비스 제공 데이터는 동기적 또는 비동기적 방식의 실시간 미러링을 통하여 최신상태 유지|수시간 이내|* 데이터 최신성 </br>* 높은 안전성 </br>* 신속한 업무재개 </br>* 데이터의 업데이트가 많은 경우에 적합|* 높은 초기투자비용 </br>* 높은 유지보수비용(최신 데이터와 패치 유지) </br>* 보안적인 문제|
|웜 사이트|* 중요성이 높은 정보기술 자원만 부분적으로 재해복구센터에 보유 </br>* 데이터는 주기적(수시간~1일)으로 백업|수일 ~ 수주|* 구축 및 유지비용이 핫 사이트에 비해 저렴|* 데이터에 다소의 손실 발생 </br>* 초기 복구수준이 부분적임 </br>* 복구소요시간이 비교적 길다.|
|콜드 사이트|* 데이터만 원격지에 보관하고, 이의 서비스를 위한 정보자원은 확보하지 않거나 장소 등 최소한으로만 확보 </br>* 재해 시 데이터를 근간으로 필요한 정보자원을 조달하여 정보시스템의 복구 개시 </br>* 주 센터의 데이터는 주기적(수일~수주)으로 원격지에 백업|수주 ~ 수개월|* 구축 및 유지비용이 가장 저렴|* 데이터의 손실 발생 </br>* 복구에 매우 긴 시간이 소요됨 </br>* 복구 신뢰성 낮음 </br>* 테스트하기 어려움|

#### (마) 제3의 사이트
1. BIA 단계에서 필요할 때 이용할 수 없는 백업 시설물의 위험성을 인식하고 제3의 백업 사이트를 구축한다.
2. 주 백업 사이트가 가용되지 않을 경우를 대비한 부차적인 백업 사이트로 백업을 위한 백업이라고 한다.

#### (바) 상호 지원계약
1. 유사한 장비나 환경을 가진 두 개 이상의 기업 간의 계약에 의해 재난을 당했을 때 자사의 시설물을 사용하여 서비스를 제공할 수 있도록 상호 협정을 체결하는 것이다.
2. 장점: 대체 사이트 선택보다 저렴한 방법이며 특수 장비로 인해 핫 사이트 구축이 힘든 경우 대안으로 쓸 수 있다.
3. 단점: 설정관리 및 운영의 혼합 등으로 인한 보안 문제가 있으며 계약 이행 강제가 불가하다. 또한 모든 핵심 업무 영역을 커버하기 어렵고 업무량 및 장비 구성 변경 등의 이유로 계약이 제약되거나 무효화될 수 있다.

### 3) 하드웨어 및 소프트웨어 백업
#### (가) 하드웨어 백업 관리 기준
1. 핵심 장비 MTD 이내에 복구하기 위한 하드웨어 백업이 필요하다.
2. 하드웨어 서비스 업체와의 SLA 를 검토하고 온 사이트 전략과 오프 사이트 전략이 마련되어야 한다.
3. SLA의 작성 시에는 가용성이 기준이 되며, 가용성 계산은 다음과 같다.

|기준|설명|
|:-:|:-|
|MTBF(Mean Time Between Failures)|* 평균 고장 간격 시간 </br>* 평균 운영 시간(MTTF)+평균수리시간(MTTR)|
|MTTF(Mean Time To Failure)|* 평균 운영 시간 </br>* 총 운영시간/총 고장건수 </br>* 길수록 좋다.|
|MTTR(Mean Time To Repair)|* 평균 수리 시간 </br>* 총 수리 시간/총 고장 건수 </br>* 짧을수록 좋다.|
|가용성(Availibility)|* 평균 운영시간(MTTF)/평균 고장 간격 시간(MTBF) </br>* 평균 운영시간(MTTF)/(평균운영시간(MTTF)+평균수리시간(MTTR))|

#### (나) 소프트웨어 백업
1. 기업은 매우 치명적 상황에 대비하여 요구되는 소프트웨어 패키지 목록을 반드시 보유해야 하며, 오프사이트 시설물에는 복사본의 백업이 필요하다.
2. 기업의 운영 시스템 소프트웨어와 중요 애플리케이션에 대한 복사본은 최소 2개 소유 및 보증이 필요하다. 하나는 온 사이트에 보관하고, 또 하나는 안전한 오프 사이트에 보관한다.

### 4) RAID
#### (가) 개요
1. 데이터 중복 지원 시스템의 대표적인 방법인 RAID는 이중화 및 성능향상을 위한 기술이다.
2. RAID는 몇 개의 물리적인 디스크를 묶고 이것들을 논리적 어레이로 정의하지만 실제 데이터는 여러 개의 물리적인 디스크에 저장된다.

#### (나) RAID의 목적
1. 저용량, 저성능, 저가용성인 디스크를 어레이 구조로 중복하여 구성함으로써 고용량, 고성능, 고가용성 디스크를 대체한다.
2. 데이터의 중복 저장 및 오류 검증을 통해 결함 허용도는 향상된다.

#### (다) RAID의 종류 및 설명
1. Level 0
   * Level 0와 같은 RAID의 구현방식을 스트라이핑이라고 한다.
   * 하나의 데이터가 여러 드라이브에 걸쳐 스트라이프, 즉 하나의 데이터를 여러 드라이브에 분산 저장함으로써 빠른 입출력을 가능하게 한다.
2. Level 1
   * Level 1과 같은 RAID의 구현방식을 미러링이라고 한다.
   * 동일한 데이터가 두 개 이상의 디스크에 동시에 저장되고, 하나의 디스크에 오류가 발생해도 다른 드라이브의 동일한 데이터를 사용할 수 있다.
3. Level 2
   * 데이터 Striping이 모든 드라이브에서 일어나고 패리티 데이터는 오류 식별을 위한 해밍코드와 함께 생성된다.
4. Level 3
   * Level 0, 1의 문제점을 보완하는 방식으로 바이트 단위로 데이터를 분산 저장한다.
   * 데이터 스트라이핑이 모든 드라이브에서 일어나고, 에러 체크 및 수정을 위해서 패리티 정보를 별도의 디스크에 따로 저장하는 구조이다.
5. Level 4
   * RAID 3과 동일한 구조이나 데이터가 블록 단위로 분산 저장된다.
   * 블록 단위 저장의 경우 한 번의 작업으로 데이터를 읽을 수 있기 때문에 성능이 향상되는 장점이 있다.
6. Level 5
   * 데이터와 패리티가 모든 드라이브의 디스크 섹터 단위에 저장된다.
   * 즉, Level 3, 4의 문제점을 보완하는 방식으로 패리티를 저장하는 디스크가 별도로 필요하지 않고 모든 디스크에 패리티 정보를 분산하여 저장한다.
7. RAID Level 0 + 1과 1 + 0
   * RAID Level 0 + 1 은 RAID 0과 RAID 1을 조합한 것이다.
   * 한편, 또 다른 RAID 종류로 디스크를 미러링한 후, 그 쌍을 스트라이프하는 스트라이프는 전부 접근이 불가능하게 되는 단점을 보완했다.
  
### 5) 데이터 백업
#### (가) 데이터 백업의 유형
|유형|설명|
|:-:|:-|
|완전 백업|* 모든 데이터가 백업되어 어떤 형태의 저장 매체에 저장시키는 것으로, 완전 백업 동안 아카이브 비트는 해제됨 </br>* 복구 과정은 한 단계지만 백업과 복구과정이 장시간 소요되고 많은 양의 백업매체가 필요|
|차등 백업|* 완전 백업을 차등 백업과 같이 사용하는 방법으로 가장 최근의 완전 백업이후에 수정된 파일만 백업하는 방식 </br>* 데이터 복구가 필요할 때 맨 먼저 완전 백업이 수행되고 그 다음에 차등백업이 수행됨 </br>* 차등 과정은 아카이브 비트 값을 변경하지 않으며, 백업 소요시간은 완전백업보다 짧고 증분 백업보다 길다.|
|증분 백업|* 완전 백업을 증분 백업과 같이 사용하는 방법으로 마지막 완전 백업이나 증분백업 이후에 변경된 파일을 백업하고 아카이브 비트를 0으로 설정 </br>* 데이터의 복구가 필요할 때 완전 백업이 수행되고 그 다음 각각의 증분백업이 순차적으로 수행 </br>* 복구 시 많은 매체의 필요 백업시간이 절감되며 저장매체를 효율적으로 이용 가능|

#### (나) 데이터 백업 방법 선택 시 고려사항
1. 완전 백업보다 차등과 증분 백업 과정이 더 복잡하지만 완전 백업보다 리소스와 시간이 적게 든다.
2. 차등 백업은 증분 백업과 비교하여 백업 단계에서는 더 많은 시간이 소요되지만 복구시에는 증분 백업보다 적은 시간이 소요된다.
3. 증분 백업은 올바른 순서로 각각의 증분 백업을 모두 복구해야 하지만 차등 백업이 복구를 수행하는 것은 2단계로 이루어진다.

## (4) 복구와 회복
### 1) BCP/DRP 단계
#### (가) 재해 대응 및 복구관련 용어
1. 복구 목표 시간(RTO, Recovery Time Objective)
   * 비즈니스 연속성에서 고장과 관련된 수용 불가능한 결과를 피하기 위해 재해 후에 비즈니스가 복구되어야 하는 최단 시간 및 서비스 수준이다.
   * RTO 값은 MTD 값보다 작으며, 이는 MTD 값이 중요한 운영의 복구에 대한 실패가 조직의 명성과 이윤에 대하여 심각하고 회복될 수 없는 피해를 의미하는 시간이기 때문이다. RTO는 수용 가능한 중단 시간이 존재함을 가정한다.
2. 작업 복구 시간(WRT, Work Recovery Time)
   * 전체 MTD 값의 나머지이다. RTO는 일반적으로 인프라스트럭처와 시스템을 복구하는 것을 다루며, WRT은 데이터 복구와 프로세스 시험 등의 목적을 위해 실행되는 모든 것을 다룬다.
3. 복구 목표 지점(RPO, Recovery Point Objective)
   * 시간으로 측정되는 수용 가능한 데이터 손실의 양이다. 이 값은 데이터가 복구되어야 하는 가장 빠른 시점을 나타낸다.

* RPO(Recovery Point Objective, 복구 목표 시점) : 재해로 인하여 중단된 서비스를 복구하였을 때, 유실을 감내할 수 있는 데이터의 손실 허용시점
* RTO(Recovery Time Objective, 복구 목표 시간) : 재해 후 시스템, 응용, 기능들이 반드시 복구 완료되어야 하는 시간
* RP(Recovery Period, 복구 기간) : 실제 업무 기능 복구까지 걸린 시간
* MTD(Maximum Tolerable Downtime, 최대 허용 중단 시간) : MTD=RTO+WRT 

### 2) BCP/DRP 테스트
#### (가) 테스트 종류
|종류|정보처리수행사이트 1차|2차|특징|
|:-:|:-:|:-:|:-|
|체크리스트|||* 각각의 부서에서 BCP 검토 </br>* 체크리스트를 이용하여 점검|
|구조적 워크스루|||* 각 기능 대표자들의 BCP 검토회의 </br>* 구조적 의사일정에 의거함|
|시뮬레이션|O|X|* 2차 사이트로 재배치까지만 </br>* 실제 정보처리는 안함|
|병행 테스트|O|O|* 1, 2차 사이트에서 업무 병행처리|
|완전중단 테스트|X|O|* 1차 사이트 완전 중단 </br>* 2차 사이트에서 업무처리 </br>* 사고에 대비한 복구계획 필수|

#### (나) 테스트 시 고려 사항
1. 반드시 사전에 공지해야 한다.
2. 핵심 인력을 포함한 전 직원의 참여가 필요하다.
3. 업무 폭주 시간대는 피한다.
