# 1. 계정 관리
## (1) Administrator 계정 이름 변경
### 1) 개요
1. 관리자 계정은 컴퓨터 전체에 대한 모든 권한을 가진 계정이므로 특별한 관리가 필요
2. 기본 관리자 계정명인 Administrator를 그대로 사용할 경우 악의적인 공격자에 의해 패스워드 무차별 공격(Brute Force Attack)에 취약할 수 있다. 따라서 쉽게 유추하기 어려운 관리자 계정명으로 변경할 것을 권장
3. 윈도우 관리자 계정의 경우 로그온 실패 횟수에 제한이 없는 특징이 있다.

### 2) 보안설정
#### (가) 관리자(Administrator) 계정명 확인

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/bb1f2003-bda9-4017-8cdd-222eec68e7aa)

1. 제어판 > 관리도구 > 컴퓨터 관리 > 로컬 사용자 및 그룹 > 사용자에서 계정명 확인

#### (나) 관리자(Administrator) 계정명 변경

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/26694aec-f16c-4514-b0ef-6fa51f3b2787)

1. 제어판 > 관리도구 > 로컬 보안 정책 > 로컬정책 > 보안옵션의 "계정:Administrator 계정 이름 바꾸기"를 통해 관리자 계정명 변경

## (2) Guest 계정 사용 제한
### 1) 개요
1. Guest 계정은 소프트웨어나 하드웨어 설치, 설정 변경, 암호 만들기 등을 할 수 없고 외부 사용자가 컴퓨터를 잠시 접근할 수 있는 계정이다.
2. Guest 계정은 불특정 사용자의 시스템 접근을 허용하는 취약한 계정으로 사용 제한을 권장하며 불특정 다수의 접근이 필요한 경우 Guest 계정이 아닌 일반 사용자 계정을 생성해 사용하도록 해야 한다.

### 2) 보안설정
#### (가) Guest 계정 사용 제한

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/8fa1c049-0168-444f-8eb4-ccc150be3409)

1. 제어판 > 관리도구 > 컴퓨터 관리 > 로컬 사용자 및 그룹 > 사용자에서 Guest 계정 선택 후 "계정 사용 안 함" 적용

## (3) 불필요한 계정 제거
### 1) 개요
1. 불필요한 계정, 의심스러운 계정, 장기간 사용하지 않는 계정은 계정 정보 유출의 위험성이 있으므로 삭제 또는 계정 잠금 설정

### 2) 보안설정
1. 시작 > 프로그램 > 제어판 > 관리도구 > 컴퓨터 관리 > 로컬 사용자 및 그룹 > 사용자에서 불필요한 계정에 대한 "삭제" 또는 "계정 사용 안 함" 선택

## (4) 관리자 그룹에 최소한의 사용자 포함
### 1) 개요
1. 관리 업무를 수행하는 계정과 일반 업무를 수행하는 계정은 분리하여 사용하는 것이 바람직하며 관리자 그룹(Administrator)에는 최소한의 계정만을 포함
2. 관리자 그룹에 불필요한 계정이 있다면 해당 계정을 제거

### 2) 보안설정
#### (가) 관리자 그룹(Administrators)에 속해있는 계정 확인

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/089af160-59b6-478f-90c6-93fe10542c5d)

1. 제어판 > 관리도구 > 컴퓨터 관리 > 로컬 사용자 및 그룹 > 그룹에서 "Administrators" 그룹 선택 후 불필요한 계정 확인
2. 불필요한 계정 선택 후 제거

## (5) 암호/패스워드 정책 설정
### 1) 개요

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/d9e8520a-d3ae-4b33-a0ef-8d7aa2c472fa)

1. 제어판 > 관리도구 > 로컬 정책 보안 > 계정 정책 > 암호 정책 선택

### 2) 보안설정
#### (가) 패스워드 복잡성 설정

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/dbc17eee-c3b6-4743-816b-dcc6c9ca49ae)

1. 패스워드 설정 시 영문자(대소)/숫자/특수문자를 모두 포함하여 보안적으로 안전한 패스워드를 만들어야 한다. 따라서 암호 복잡성을 설정하여 사용으로 설정한다.
2. 윈도우 운영체제의 복잡성 기준
   - 다음 4가지 종류 중에서 2가지 종류를 조합했을 경우 최소 10자리 이상, 3가지 이상의 종류를 조합했을 경우 8자리 이상의 길이가 되어야 한다.
   - 영문 대문자(26개), 영문 소문자(26개), 숫자(10개), 특수문자(32개)
3. 부적절한 패스워드 예
   - 길이가 짧은 패스워드
   - 사전에 나오는 단어나 이들의 조합 예) password, administrator, happy 등
   - 키보드 자판의 연속된 문자 예) asdf1234 등
   - 사용자 계정 정보로 유추 가능한 단어 예) admin 게정의 admin 등

#### (나) 최근 패스워드 기억 설정

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/834ac9db-c29d-4900-a0b7-47e3d8cd09f1)

1. 사용자가 최근에 사용했던 패스워드를 동일하게 사용할 수 없도록 설정한다. 최근 암호 기억을 12개 이상으로 설정 권장

#### (다) 패스워드 최대 사용 기간 설정

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/f70d71e4-3317-4112-ad6e-e78109f6d159)

1. 복잡한 패스워드를 설정한다고 해도 공격자가 무차별 공격(Brute Force Attack)으로 추정 가능한 암호에 대해서 크랙을 시도한다면 결국에는 이를 알아낼 수 있다. 따라서 주기적으로 패스워드를 변경하여 위험성을 줄여야 한다.
2. 최대 암호 사용 기간(패스워드 만료 기간) 90일 이하 권장
3. 계정 속성의 "암호 사용 기간 제한 없음" 해제

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/ba3c32d1-70f0-44c6-9c9a-94bdced589fb)

#### (라) 패스워드 최소 사용 기간 설정

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/47514beb-75f1-4541-83cf-bfdcbb3861b3)

1. 패스워드 변경에 시간적 제약이 없다면 "최근 패스워드 기억 설정"을 무력화하도록 계속 변경하여 이전에 즐겨 사용하던 패스워드를 다시 생성할 수 있는 문제점이 있다. 따라서 최소 사용 기간을 설정하여 해당 기간에는 패스워드를 변경하지 못하도록 설정한다.
2. 최소 암호 사용 기간을 0보다 큰 값으로 설정 권장(일반적으로 1일 설정)

#### (마) 패스워드 최소 길이 설정

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/437bf28d-8a5e-4f41-8c24-fbb70dafcd25)

1. 적절한 길이의 패스워드로 설정하여 보안상 안전하고 사용자가 쉽게 기억할 수 있는 패스워드를 만들어야 한다. 최소 암호 길이 8자 이상 권장

#### (바) 해독 가능한 암호화 사용 설정

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/17992462-4a60-4ea1-963e-152036258b38)

1. 해독 가능한 암호방식으로 저장할 경우 공격자의 암호공격에 노출될 수 있다. 따라서 반드시 필요한 경우(다른 응용 프로그램에 의해 사용)를 제외하고는 "사용 안 함" 설정한다.

## (6) 계정 잠금 정책
### 1) 개요

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/dabc2f1e-8c5b-42ba-b517-69b2c34d6a8e)

1. 제어판 > 관리도구 > 로컬 정책 보안 > 계정 정책 > 계정 잠금 정책 선택

### 2) 보안설정
#### (가) 게정 잠금 기간

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/742530ed-a2ee-4a1a-95b6-3434e160ed15)

1. 계정 잠금 기간(시간)을 설정하면 패스워드가 틀린 횟수가 계정 잠금 임계값에 도달했을 때 지정한 기간(시간) 동안 계정을 잠근다. 따라서 공격자의 무차별 공격에 효과적으로 대응할 수 있다.
2. 계정 잠금 기간 60분 이상 설정 권장

#### (나) 계정 잠금 임계값

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/72427fb5-0373-46fc-94bb-b5165a10ec66)

1. 자동화된 방법을 통해 공격자는 패스워드에 대하여 무차별 공격을 시도할 수 있으므로 로그온 실패 횟수에 대한 제한이 필요하다. 계정 잠금 임계값 5 이하의 갑권장(Administrator 계정은 잠기지 않는다.)

#### (다) 다음 시간 후 계정 잠금 수를 원래대로 설정

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/dcb6b26d-068f-4b55-8048-a4f67f6db5a6)

1. 실패한 로그온 시도 후 실패한 로그온 시도 카운트가 0으로 설정될 때까지 경과해야 하는 시간을 지정한다. 60분 이상 설정 권장

# 2. 서비스 관리
## (1) 하드디스크 기본 공유 제거
### 1) 개요
1. Windows는 프로그램 및 서비스를 네트워크나 컴퓨터 환경에서 관리하기 위해 시스템 기본 공유 항목을 자동으로 생성한다.
   - 하드디스크 기본 공유 : C$, D$ 등
   - 원격 관리 및 IPC용 기본 공유 : ADMIN$, IPC$
2. 하드디스크 기본 공유인 C$, D$ 등을 제거하지 않으면 기본 공유 폴더를 통해 인가받지 않은 사용자가 하드디스크 내의 폴더나 파일에 접근하거나 바이러스가 침투하는 경로가 될 수 있다.

### 2) 보안설정
#### (가) 하드디스크 기본 공유 설정 확인

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/95e452f0-c722-486d-bc4e-7acfa619c00b)

1. 제어판 > 관리도구 > 컴퓨터 관리 > 공유 폴더 > 공유 선택하여 하드디스크 기본 공유 설정 확인

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/ce004583-eff6-424f-aec1-05498bb09f47)

2. 하드디스크 기본 공유 설정 시 공유 폴더를 통한 파일 접근 가능

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/f8974c18-c73a-4957-83dc-2f694538cc7f)

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/ee27e3c0-3773-476e-9f09-807e5045cf06)

```
net share C$ /delete

net share D$ /delete
```

3. 관리화면에서 공유 중지를 하거나 cmd 창의 net share 명령을 통해 공유 중지가 가능하다. 단, 기본 공유의 경우 공유 중지를 해도 운영체제가 재시작되면 다시 생성되기 때문에 레지스트리 수정이 필요하다.
   - HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\LanmanServer\Parameters를 선택한 후 "AutoShareServer" DWORD값 생성 후 0으로 설정한다.

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/cdb954d6-5f2f-4e27-8c74-2384920431c1)

## (2) 공유 권한 및 사용자 그룹 설정
### 1) 개요
1. 공유 폴더에 Everyone 그룹이 포함되어 있으면 익명 사용자에 의한 접근이 가능하므로 Everyone 그룹을 제거하도록 한다.

### 2) 보안설정
#### (가) 공유 폴더의 사용 권한 확인
1. 제어판 > 관리도구 > 컴퓨터 관리 > 공유 폴더 > 공유 선택하여 공유 폴더의 사용 권한 확인. Everyone 그룹이 있으면 이를 제거한다.

## (3) 불필요한 서비스 제거
### 1) 개요
1. 취약한 서비스들이 디폴트로 설치되어 실행되고 있으면 이러한 서비스 또는 응용프로그램은 공격 지점이 될 수 있으므로 사용자 환경에서 필요하지 않은 서비스나 실행 파일을 사용하지 않거나 제거한다.
2. 주로 취약한 서비스는 다음과 같다.
   - Alerter : 서버에서 클라이언트로 경고 메시지를 보냄
   - Clipbook : 서버 내 Clipbook을 다른 클라이언트와 공유
   - Messenger : net send 명령어를 이용하여 클라이언트에 메시지 보냄
   - Simple TCP/IP Services(Echo, Discard, Character, Generator, Daytime, Quote of the Day)

### 2) 보안설정
#### (가) 불필요한 서비스 확인

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/365311e8-4f55-4639-9b8b-17aa48ca338f)

1. 제어판 > 관리도구 > 서비스에서 불필요한 서비스를 확인한다. 관리자는 대상 시스템의 용도를 정확히 파악해 불필요한 서비스를 제거해야 한다.
2. 불필요한 서비스가 시작 상태이면 이를 중지한 후 시작 유형을 "사용 안 함"으로 선택한다.
3. 시작 유형별 동작 방식은 아래와 같다.

|서비스 시작 유형|설명|
|:-:|:-|
|사용 안 함|설치되어 있으나 실행되지 않음|
|수동|다른 서비스나 응용 프로그램에서 해당 기능을 필요로 할 때만 시작됨|
|자동|부팅 시에 해당 장치 드라이버가 로드된 후에 운영 체제에 의해 시작됨|

# 3. 로그 관리
## (1) 감사 정책 설정
### 1) 개요
1. 윈도우 운영체제에서 말하는 감사 정책은 어떤 로그를 남길지를 정의한 규칙을 말한다. 감사 정책을 설정하게 되면 감사 정책에 의해 지정한 이벤트 범주에 대해서만 로그가 남는다.
2. 감사 설정이 구성되어 있지 않거나 감사 설정 수준이 너무 낮으면 보안 관련 문제 발생 시 원인을 파악하기 어려우며 법적 대응을 위한 증거로 사용될 수도 없음
3. 감사 설정이 너무 높으면 보안 로그에 불필요한 항목이 많이 기록되므로 매우 중요한 항목과 혼동할 수 있으며 시스템 성능에도 심각한 영향을 줄 수 있기 때문에 법적 요구 사항과 조직의 정책에 따라 필요한 로그를 남기도록 설정

### 2) 보안설정
#### (가) 권장 감사 정책 설정

![image](https://github.com/zzzangmans1/boangisa_practice/assets/52357235/61ed8d9c-c3a2-4f52-95a3-f857d64529d4)

#### (나) 감사 항목 설명
|감사 항목|권장값|설명|
|:-:|:-:|:-|
|개체 엑세스|감사안함|파일, 디렉터리, 레지스트리, 프린터 등의 객체에 대한 접근 성공/실패 여부를 기록할지를 결정|
|계정 관리|실패|계정 관리 이벤트를 감사할지 여부를 결정 </br>사용자 계정 또는 그룹의 생성, 변경, 삭제, 암호의 설정 및 변경 등의 이벤트 성공/실패 로그를 기록|
|계정 로그온 이벤트|성공, 실패|도메인 계정에 대한 로그온 성공/실패 관련 이벤트 로그를 기록할지를 결정|
|권한 사용|실패|권한 사용의 성공 및 실패를 감사할 경우 사용자 권한을 이용하려고 할 때마다 이벤트 생성|
|디렉터리 서비스 액세스|실패|Active Directory 개체의 시스템 액세스 컨트롤 목록(SACL)에 나열된 사용자가 해당 객체에 액세스를 시도할 때 이벤트 생성|
|로그온 이벤트|성공, 실패|로컬 계정에 대한 로그온/오프 성공/실패에 대한 이벤트를 기록할지를 결정|
|시스템 이벤트|감사안함|시스템 시작 또는 종료, 보안 로그에 영향을 미치는 이벤트 등을 감사할지 여부를 결정|
|정책 변경|성공, 실패|감사 정책 변경의 성공 및 실패를 감사|
|프로세스 추적|감사안함|실행되는 프로세스에 대한 자세한 추적 정보를 감사하는 경우 프로세스 생성, 프로세스 종료, 핸들 복제 및 간첩 개체 액세스 같은 프로세스 관련 이벤트를 감사할지 여부를 결정|
